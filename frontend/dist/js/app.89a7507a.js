(function(){var t={9833:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return c}});var a=function(){var t=this;t._self._c;return t._m(0)},i=[function(){var t=this,e=t._self._c;return e("div",{},[e("h1",[t._v("Test component")])])}],o={name:"TestCom"},r=o,n=s(1001),l=(0,n.Z)(r,a,i,!1,null,null,null),c=l.exports},6700:function(t,e,s){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function i(t){var e=o(t);return s(e)}function o(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=o,t.exports=i,i.id=6700},6817:function(t,e,s){"use strict";var a=s(6369),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home",style:{"--primary":t.primary_color,"--back_color":t.back_color,"--primary_text":t.primary_text},attrs:{id:"page-top"}},[e("div",[e("main",{attrs:{id:"main"}},[e("router-view",{attrs:{search:t.search}})],1),t._m(0)])])},o=[function(){var t=this,e=t._self._c;return e("a",{staticClass:"scroll-top d-flex align-items-center justify-content-center active",attrs:{href:"#"}},[e("i",{staticClass:"bi bi-arrow-up-short"})])}],r=(s(7658),s(6797),s(5939)),n=window.location.protocol+"//"+window.location.hostname+":8000"+window.location.pathname;const l=n,c=r.Z.create({baseURL:l,timeout:1e3});var d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sidebar"})},u=[],m={name:"SideBar"},h=m,p=s(1001),_=(0,p.Z)(h,d,u,!1,null,null,null),v=_.exports,b=function(){var t=this;t._self._c;return t._m(0)},f=[function(){var t=this,e=t._self._c;return e("div",[e("header",{staticClass:"header d-flex align-items-center",attrs:{id:"header"}},[e("div",{staticClass:"container-fluid container-xl d-flex align-items-center justify-content-between"},[e("a",{staticClass:"logo d-flex align-items-center",attrs:{href:"index.html"}},[e("h1",[e("span",[t._v(".")]),t._v(" جامعة فلسطين التقنية")])]),e("i",{staticClass:"mobile-nav-toggle mobile-nav-show bi bi-list"}),e("i",{staticClass:"mobile-nav-toggle mobile-nav-hide d-none bi bi-x"}),e("nav",{staticClass:"navbar",attrs:{id:"navbar"}},[e("ul",[e("li",[e("a",{staticClass:"active",attrs:{href:"index.html"}},[t._v("Home")])]),e("li",[e("a",{attrs:{href:"about.html"}},[t._v("About")])]),e("li",[e("a",{attrs:{href:"services.html"}},[t._v("Services")])]),e("li",[e("a",{attrs:{href:"projects.html"}},[t._v("Projects")])]),e("li",[e("a",{attrs:{href:"blog.html"}},[t._v("Blog")])]),e("li",{staticClass:"dropdown"},[e("a",{attrs:{href:"#"}},[e("span",[t._v("Dropdown")]),t._v(" "),e("i",{staticClass:"bi bi-chevron-down dropdown-indicator"})]),e("ul",[e("li",[e("a",{attrs:{href:"#"}},[t._v("Dropdown 1")])]),e("li",{staticClass:"dropdown"},[e("a",{attrs:{href:"#"}},[e("span",[t._v("Deep Dropdown")]),t._v(" "),e("i",{staticClass:"bi bi-chevron-down dropdown-indicator"})]),e("ul",[e("li",[e("a",{attrs:{href:"#"}},[t._v("Deep Dropdown 1")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("Deep Dropdown 2")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("Deep Dropdown 3")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("Deep Dropdown 4")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("Deep Dropdown 5")])])])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("Dropdown 2")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("Dropdown 3")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("Dropdown 4")])])])]),e("li",[e("a",{attrs:{href:"contact.html"}},[t._v("Contact")])])])])])])])}],g={name:"NavBar",data(){return{search:""}},methods:{open_settings_modal(){$("#settings_modal").modal("toggle")},close_settings_modal(){$("#settings_modal").modal("hide")}},mounted(){}},C=g,y=(0,p.Z)(C,b,f,!1,null,null,null),w=y.exports,k={name:"HomeView",components:{SideBar:v,NavBar:w},data(){return{error:!1,settings:{dark_mode:"",lang:"",primary_color:"",back_color:""},auth:{username:"",password:"",logged_in:localStorage.getItem("access_token")},search:w.search,primary_color:"",primary_text:"",back_color:""}},async mounted(){this.dark_mode(),this.set_lang()},methods:{go_to(){const t=document.getElementById("services");t.scrollIntoView({behavior:"smooth"})},async loginUser(){const t={username:this.username,password:this.password};try{const e=await r.Z.post(l+"/backend/login/",t);this.auth.logged_in=e.data.access,localStorage.setItem("access_token",this.auth.logged_in),localStorage.setItem("token_time",new Date),this.error=!1,this.$router.push("dashboard")}catch(e){this.error=!0,console.log(e)}},async logout(){const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0]);localStorage.setItem("access_token",""),this.auth.logged_in=""},dark_mode(){this.settings.dark_mode?(this.primary_color="#242526",this.primary_text="#fff",this.back_color="#18191a"):(this.primary_color=this.settings.primary_color,this.primary_text=this.settings.primary_color,this.back_color=this.settings.back_color)},get_settings(){return c.get("/backend/settings/1").then((t=>(this.settings.dark_mode=t.data["dark_mode"],this.settings.primary_color=t.data["primary_color"],this.settings.back_color=t.data["back_color"],this.settings.lang=t.data["lang"])))},async save_settings(){try{await fetch(l+"/backend/settings/1/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.settings)});swal(this.$t("Saved"),{buttons:!1,icon:"success",timer:2e3}),await this.get_settings(),this.dark_mode(),this.set_lang(),this.close_settings_modal()}catch(t){console.error()}},set_lang(){this.$i18n.locale=this.settings.lang},open_settings_modal(){$("#settings_modal").modal("toggle")},close_settings_modal(){$("#settings_modal").modal("hide")}},beforeCreate(){const t=localStorage.getItem("access_token");this.logged_in=t;var e=localStorage.getItem("token_time");const s=new Date,a=new Date(e),i=Math.abs(a-s),o=Math.floor(i/1e3/60);o>30&&(localStorage.setItem("access_token",""),localStorage.setItem("token_time",0))}},j=k,x=(0,p.Z)(j,i,o,!1,null,null,null),S=x.exports,P=s(2631),N=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[t._m(0),e("section",{staticClass:"hero",attrs:{id:"hero"}},[e("div",{staticClass:"info d-flex align-items-center"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-lg-6 text-center"},[t._m(1),e("p",{attrs:{"data-aos":"fade-up"}},[t._v("التميّز والرّيادة في مجالي التّعليم الهندسي والبحث العلمي على المستويين المحلّي والدُولي")]),e("a",{staticClass:"btn-get-started",attrs:{"data-aos":"fade-up","data-aos-delay":"200"},on:{click:function(e){return t.go_to()}}},[e("i",{staticClass:"fa fa-arrow-down"})])])])])]),t._m(2)]),e("section",{staticClass:"services section-bg",attrs:{id:"services"}},[e("div",{staticClass:"container",attrs:{"data-aos":"fade-up"}},[e("div",{staticClass:"section-header"},[e("h2",[t._v("المواد")]),e("div",{staticClass:"form-floating mb-5 rtl"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"name@example.com"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),e("label",{attrs:{for:"floatingInput"}},[t._v("بحث")])])]),e("div",{staticClass:"row gy-4 rtl"},t._l(t.subjects,(function(s){return e("div",{key:s.id,staticClass:"col-lg-4 col-md-6",attrs:{"data-aos":"fade-up","data-aos-delay":"100"}},[e("router-link",{staticClass:"service-item position-relative",attrs:{tag:"div",to:"/subject/"+s.name}},[e("h3",[t._v(t._s(s.name))]),e("p",[t._v(t._s(s.description.substr(0,40)+".."))]),e("a",{staticClass:"readmore stretched-link"}),e("div",{staticClass:"post-img position-relative overflow-hidden"},[t.imageExists(s)?e("img",{staticClass:"image-container img-fluid",attrs:{src:"media/subjects/"+s.id+"_"+s.name+".jpg",alt:""}}):t._e()])])],1)})),0)])]),e("footer",{staticClass:"footer",attrs:{id:"footer"}},[e("div",{staticClass:"footer-content position-relative"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-4 col-md-6"},[e("div",{staticClass:"footer-info"},[e("h3",[t._v("نادي هندسة البناء")]),e("div",{staticClass:"social-links d-flex mt-3"},[t._m(3),t._m(4),t._m(5),e("router-link",{staticClass:"d-flex align-items-center justify-content-center",attrs:{tag:"a",to:"dashboard"}},[e("i",{staticClass:"bi bi-book"})]),e("router-link",{staticClass:"d-flex align-items-center justify-content-center",attrs:{tag:"a",to:"links"}},[e("i",{staticClass:"bi bi-link"})])],1)])])])])]),t._m(6)])])},M=[function(){var t=this,e=t._self._c;return e("header",{staticClass:"header d-flex align-items-center",attrs:{id:"header"}},[e("div",{staticClass:"container-fluid container-xl d-flex align-items-center justify-content-between"},[e("a",{staticClass:"logo d-flex align-items-center",attrs:{href:"#"}},[e("h1",[t._v("."),e("span",[t._v("(خضوري)")]),t._v(" جامعة فلسطين التقنية")])])])])},function(){var t=this,e=t._self._c;return e("h2",{attrs:{"data-aos":"fade-down"}},[e("span",[t._v("نادي هندسة البناء")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"carousel slide",attrs:{id:"hero-carousel","data-bs-ride":"carousel","data-bs-interval":"5000"}},[e("div",{staticClass:"carousel-item active",staticStyle:{"background-image":"url(static/assets/img/main.png)"}})])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"d-flex align-items-center justify-content-center",attrs:{target:"_blank",href:"https://www.facebook.com/profile.php?id=100063528045057&mibextid=ZbWKwL"}},[e("i",{staticClass:"bi bi-facebook"})])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"d-flex align-items-center justify-content-center",attrs:{target:"_blank",href:"https://l.facebook.com/l.php?u=https%3A%2F%2Ft.me%2Fbeclub2022%3Ffbclid%3DIwAR2UKCFRoRjpzgtaRDpVmvHyFA2s-Eaf6uDPH8UQk_S-oVMTZKWbg787-bg&h=AT23yxNiq63dtJmxysxI9y3sXiPW7zrg7DLuCUgjAM34m88b8L68x6KdnqMRrMmHRlK2YJHXP4agwkoGmVrTOrkloTuVVXR58ayUkBALsfCjU6try-TzipS4_jf749HHb3pYFA"}},[e("i",{staticClass:"bi bi-telegram"})])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"d-flex align-items-center justify-content-center",attrs:{target:"_blank",href:"https://l.facebook.com/l.php?u=https%3A%2F%2Fyoutube.com%2F%40ABDELFATTAHSAMARA%3Ffbclid%3DIwAR34NJNafV0bFHITBI62lIX7awYkYiW1sn5zanyoniNr-CTOqyAYHI2SX_I&h=AT1TpCNe1vycJvSgZoT4a0H8H5K-SJV8C_H2Jk69YPZ0DLqnrGvxa6wNpg81S8UNhchBxXDWkbqLE5qFhOwMt1oGGJrGcXtA9L18XLUHsk_EJGBUlvNmmcAm7_qx4KU6SMM7IzXMVYn14-o"}},[e("i",{staticClass:"bi bi-youtube"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"footer-legal text-center position-relative"},[e("div",{staticClass:"container"})])}],I={name:"HomeView",components:{NavBar:w},watch:{search(t){if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/subjects/?search="+t}).then((t=>this.subjects=t.data));this.get_subjects()}},data(){return{subjects:[],search:""}},async mounted(){await this.get_subjects()},methods:{get_subjects(){return c.get("/backend/subjects/").then((t=>this.subjects=t.data)).catch((t=>{alert(t)}))},go_to(){const t=document.getElementById("services");t.scrollIntoView({behavior:"smooth"})},imageExists(t){const e=`media/subjects/${t.id}_${t.name}.jpg`,s=new Image;return s.src=e,s.complete&&0!==s.naturalWidth}}},A=I,D=(0,p.Z)(A,N,M,!1,null,null,null),T=D.exports,E=function(){var t=this,e=t._self._c;return e("div",[e("section",{staticClass:"services section-bg",attrs:{id:"services"}},[e("div",{staticClass:"container",attrs:{"data-aos":"fade-up"}},[e("div",{staticClass:"section-header"},[e("h2",[t._v(t._s(t.$route.params.subject_name)+" ")]),e("div",{staticClass:"post-img position-relative overflow-hidden"},[t.imageExists()?e("img",{staticClass:"image-container img-fluid",attrs:{src:"media/subjects/"+this.subject_id+"_"+t.$route.params.subject_name+".jpg",alt:""}}):t._e()]),e("br"),e("a",{attrs:{href:"#"},on:{click:function(e){return t.$router.go(-1)}}},[e("i",{staticClass:"fa-solid fa-house"})])]),e("section",{staticClass:"blog rtl",attrs:{id:"blog"}},[e("div",{staticClass:"form-floating mb-5 rtl"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"name@example.com"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),e("label",{attrs:{for:"floatingInput"}},[t._v("بحث")])]),e("div",{staticClass:"container",attrs:{"data-aos":"fade-up","data-aos-delay":"200"}},[e("div",{staticClass:"row gy-4 posts-list"},t._l(t.links,(function(s){return e("div",{key:s.id,staticClass:"col-xl-4 col-md-6"},[e("div",{staticClass:"post-item position-relative h-100"},[e("div",{staticClass:"post-img position-relative overflow-hidden"},[e("img",{staticClass:"img-fluid",attrs:{src:"static/assets/img/main.jpg",alt:""}}),e("span",{staticClass:"post-date"},[t._v(t._s(s.timestamp))])]),e("div",{staticClass:"post-content d-flex flex-column"},[e("h3",{staticClass:"post-title"},[t._v(t._s(s.title))]),e("p",[t._v(t._s(s.description))]),e("hr"),e("a",{staticClass:"readmore stretched-link",attrs:{href:"https://"+s.url,target:"_blank"}},[e("span",[t._v("Open")]),e("i",{staticClass:"bi bi-arrow-right"})])])])])})),0)])])])])])},Z=[],L={name:"SubjectView",components:{NavBar:w},data(){return{search:"",subject:"",subject_id:"",links:[]}},watch:{search(t){if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/links/?search="+t+"&subject_id="+this.subject_id}).then((t=>this.links=t.data));this.get_links()}},async mounted(){await this.get_subject_id(),await this.get_links(),window.scrollTo(0,0)},methods:{imageExists(){const t="media/subjects/"+this.subject_id+"_"+this.$route.params.subject_name+".jpg",e=new Image;return e.src=t,e.complete&&0!==e.naturalWidth},get_subject_id(){return(0,r.Z)({method:"get",url:l+"/backend/get_subject_id/?subject="+this.$route.params.subject_name}).then((t=>this.subject_id=t.data.subject_id))},get_links(){return(0,r.Z)({method:"get",url:l+"/backend/get_links/?subject="+this.subject_id}).then((t=>this.links=t.data))}}},B=L,U=(0,p.Z)(B,E,Z,!1,null,null,null),O=U.exports,V=function(){var t=this,e=t._self._c;return e("div",{staticClass:"about"},[e("h1",[t._v("This is an about page")]),e("TestCom")],1)},z=[],q=s(9833),F={components:{TestCom:q["default"]}},R=F,H=(0,p.Z)(R,V,z,!1,null,null,null),J=H.exports,X=function(){var t=this,e=t._self._c;return e("div",{staticClass:"users"},[e("h1",[t._v("This is an users page")]),t._v(" "+t._s(this.users)+" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.test.a,expression:"test.a"}],attrs:{type:"text"},domProps:{value:t.test.a},on:{input:function(e){e.target.composing||t.$set(t.test,"a",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.test.b,expression:"test.b"}],attrs:{type:"text"},domProps:{value:t.test.b},on:{input:function(e){e.target.composing||t.$set(t.test,"b",e.target.value)}}}),e("button",{on:{click:function(e){return t.save_user()}}},[t._v("save")])])},G=[],Y={name:"users",data(){return{users:[],test:{a:"",b:""}}},async mounted(){this.get_users()},methods:{async save_user(){var t=await fetch("http://127.0.0.1:8000/users/api/users_router/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.test)});this.users.push(await t.json())},get_users(){(0,r.Z)({method:"get",url:"http://127.0.0.1:8000/users/api/users_router/",auth:{username:"admin",password:"123"}}).then((t=>this.users=t.data))}}},K=Y,W=(0,p.Z)(K,X,G,!1,null,null,null),Q=W.exports,tt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"CustomersView"},[e("div",{staticClass:"context-menu",style:t.menuStyle,attrs:{id:"context-menu"}},[e("ul",[e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_customer(t.customer.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("li",{staticClass:"ltr dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("li",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])]),e("div",{staticClass:"col-xl-12 center"},[e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.$t("Customers Table"))+" ")]),e("div",{staticClass:"dropdown no-arrow"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item",on:{click:t.open_add_modal}},[e("i",{staticClass:"fa fa-plus"}),t._v(" "+t._s(t.$t("Add"))+" ")]),e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.PrintDiv("table")}}},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])]),e("div",{staticClass:"card-body",attrs:{id:"table"}},[e("div",{staticClass:"card-header cnter",staticStyle:{display:"none"},attrs:{id:"head_txt"}}),e("form",{staticClass:"site-form-table"},[e("table",{staticClass:"table table-hover"},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Name")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Mobile")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Type")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("ID Type")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("ID Number")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Address")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Notes")))]),e("th",{staticClass:"no_print",attrs:{scope:"col"}},[t._v(t._s(t.$t("Image")))]),e("th",{staticClass:"no_print",attrs:{scope:"col"}},[t._v(t._s(t.$t("Actions")))])])]),e("tbody",t._l(this.customers,(function(s){return e("tr",{key:s.id,class:{selected:s.id===t.active_index},attrs:{role:"button"},on:{contextmenu:[t.showContextMenu,function(e){return t.row_click(s.id)}],click:function(e){return t.row_click(s.id)},dblclick:t.open_edit_modal}},[e("th",{attrs:{scope:"row",id:"id"}},[t._v(t._s(s.id))]),e("td",[t._v(t._s(t.$t(s.name)))]),e("td",[t._v(t._s(t.$t(s.mobile)))]),e("td",[t._v(t._s(t.$t(s.type)))]),e("td",[t._v(t._s(t.$t(s.id_type)))]),e("td",[t._v(t._s(t.$t(s.id_number)))]),e("td",[t._v(t._s(t.$t(s.address)))]),e("td",[t._v(t._s(t.$t(s.notes)))]),e("td",{staticClass:"no_print"},[e("img",{staticClass:"img-profile on-hover-l",attrs:{src:t.base_url+s.id+"_"+s.name+".png",alt:"No Image",width:"40",height:"40"},on:{error:function(e){e.target.src=t.base_url+"profile.png"}}})]),e("td",{staticClass:"no_print"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},on:{contextmenu:function(e){return t.alert("1")}}},[e("i",{staticClass:"fa fa-gear on-hover"})]),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_customer(s.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("a",{staticClass:"dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("a",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])])})),0)]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.active_index,expression:"active_index"}],attrs:{hidden:"",type:"text",id:"row_id"},domProps:{value:t.active_index},on:{input:function(e){e.target.composing||(t.active_index=e.target.value)}}})])])])]),e("input",{attrs:{"on-change":t.search,hidden:""},domProps:{value:this.$parent.$refs.NavBar.search}}),e("div",{staticClass:"modal fade",attrs:{id:"addModal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[this.edit_mode?t._e():e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Add Customer")))]),this.edit_mode?e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Edit Customer")))]):t._e(),e("button",{staticClass:"close on-hover",attrs:{type:"button","aria-label":"Close"},on:{click:this.closeModal}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"customer_name"}},[t._v(t._s(t.$t("Name")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.name,expression:"customer.name"}],staticClass:"form-control",class:{"is-invalid":!this.customer.name&&this.validate,"is-valid":this.customer.name&&this.validate},attrs:{id:"customer_name",type:"text"},domProps:{value:t.customer.name},on:{input:function(e){e.target.composing||t.$set(t.customer,"name",e.target.value)}}}),!this.customer.name&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The Name"))+" ")]):t._e()]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"cutomer_type"}},[t._v(t._s(t.$t("Type")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.customer.type,expression:"customer.type"}],staticClass:"form-control",class:{"is-invalid":!this.customer.type&&this.validate,"is-valid":this.customer.type&&this.validate},attrs:{id:"cutomer_type",type:"text"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.customer,"type",e.target.multiple?s:s[0])}}},[e("option",{attrs:{selected:""},domProps:{value:t.$t("Customer")}},[t._v(t._s(t.$t("Customer")))]),e("option",{domProps:{value:t.$t("Supplier")}},[t._v(t._s(t.$t("Supplier")))])]),!this.customer.type&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select Type"))+" ")]):t._e()])]),e("div",{staticClass:"col"},[e("div",{staticClass:"form-group mb-2"},[e("label",{attrs:{for:"cutomer_mobile"}},[t._v(t._s(t.$t("Mobile")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.mobile,expression:"customer.mobile"}],staticClass:"form-control",class:{"is-invalid":!this.customer.mobile&&this.validate,"is-valid":this.customer.mobile&&this.validate},attrs:{id:"cutomer_mobile",type:"text"},domProps:{value:t.customer.mobile},on:{input:function(e){e.target.composing||t.$set(t.customer,"mobile",e.target.value)}}}),!this.customer.type&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter Mobile Number"))+" ")]):t._e()])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"id_type"}},[t._v(t._s(t.$t("ID Type")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.customer.id_type,expression:"customer.id_type"}],staticClass:"form-control",class:{"is-invalid":!this.customer.id_type&&this.validate,"is-valid":this.customer.id_type&&this.validate},attrs:{id:"id_type",type:"text"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.customer,"id_type",e.target.multiple?s:s[0])}}},[e("option",{attrs:{selected:""},domProps:{value:t.$t("ID Card")}},[t._v(" "+t._s(t.$t("ID Card")))]),e("option",{domProps:{value:t.$t("Passport")}},[t._v(" "+t._s(t.$t("Passport")))]),e("option",{domProps:{value:t.$t("Driving License")}},[t._v(" "+t._s(t.$t("Driving License")))]),e("option",{domProps:{value:t.$t("Residence")}},[t._v(" "+t._s(t.$t("Residence")))])]),!this.customer.id_type&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select ID Type"))+" ")]):t._e()])]),e("div",{staticClass:"col"},[e("div",{staticClass:"form-group mb-2"},[e("label",{attrs:{for:"id_number"}},[t._v(t._s(t.$t("Number of"))+" "+t._s(t.customer.id_type)+" ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.id_number,expression:"customer.id_number"}],staticClass:"form-control",class:{"is-invalid":!this.customer.id_number&&this.validate,"is-valid":this.customer.id_number&&this.validate},attrs:{id:"id_number",type:"text"},domProps:{value:t.customer.id_number},on:{input:function(e){e.target.composing||t.$set(t.customer,"id_number",e.target.value)}}}),!this.customer.id_number&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter ID Number"))+" ")]):t._e()])])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"cutomer_address"}},[t._v(" "+t._s(t.$t("Address")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.address,expression:"customer.address"}],staticClass:"form-control",class:{"is-invalid":!this.customer.address&&this.validate,"is-valid":this.customer.address&&this.validate},attrs:{id:"cutomer_address",type:"text"},domProps:{value:t.customer.address},on:{input:function(e){e.target.composing||t.$set(t.customer,"address",e.target.value)}}}),!this.customer.address&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The Address"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"cutomer_notes"}},[t._v(" "+t._s(t.$t("Notes")))]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.customer.notes,expression:"customer.notes"}],staticClass:"form-control",attrs:{id:"cutomer_notes",rows:"1"},domProps:{value:t.customer.notes},on:{input:function(e){e.target.composing||t.$set(t.customer,"notes",e.target.value)}}})]),e("br"),e("div",{staticClass:"form-group"},[e("div",{staticClass:"container"},[e("div",{staticClass:"picture-container"},[e("div",{staticClass:"picture"},[e("img",{staticClass:"picture-src",attrs:{src:t.previewImage||t.base_url+"profile.png",width:"100",height:"150",id:"wizardPicturePreview"}}),e("input",{attrs:{type:"file",id:"wizard-picture"},on:{change:t.onFileChange}})]),e("br"),e("h6",{},[t._v(" "+t._s(t.$t("Choose Picture")))])])])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary on-hover-sm",attrs:{type:"button",id:"closeModal",title:"close"},on:{click:this.closeModal}},[e("i",{staticClass:"fa fa-xmark"})]),t.edit_mode?t._e():e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.save_customer()}}},[e("i",{staticClass:"fa fa-floppy-disk"})]),t.edit_mode?e("button",{staticClass:"btn btn-danger on-hover-sm",attrs:{type:"button",title:"delete"},on:{click:function(e){return t.delete_customer(t.active_index)}}},[e("i",{staticClass:"fa fa-trash"})]):t._e(),t.edit_mode?e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.update_customer(t.active_index)}}},[e("i",{staticClass:"fa fa-floppy-disk"})]):t._e()])])])])])},et=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-bars on-hover"})])}],st={name:"CustomersView",components:{NavBar:w},data(){return{validate:!1,base_url:window.location.origin+"/media/customers/",previewImage:null,img_file:null,active_index:null,customers:[],customer:{name:"",mobile:"",type:"",id_type:"",id_number:"",address:"",notes:""},edit_mode:!1,max_id:0,isContextMenuActive:!1,menuStyle:{display:"none",top:0,left:0}}},async mounted(){const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0]);await this.get_customers()},computed:{search(){let t=this.$parent.$refs.NavBar.search;if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/customers/?search="+t}).then((t=>this.customers=t.data));this.get_customers()}},methods:{showContextMenu(t){t.preventDefault(),this.isContextMenuActive=!0,this.menuStyle.top=`${t.clientY}px`,this.menuStyle.left=`${t.clientX}px`,this.menuStyle.display="block",window.addEventListener("click",this.hideContextMenu)},hideContextMenu(){this.isContextMenuActive=!1,this.menuStyle.display="none",window.removeEventListener("click",this.hideContextMenu)},PrintDiv(t){var e=document.getElementById(t),s=window.open("","_blank","width=100000,height=10000");document.getElementById("head_txt").style.display="block",document.getElementById("head_txt").innerHTML=this.$t("Customers"),s.document.write('<link href="static/css/sb-admin-2.min.css" rel="stylesheet">'),s.document.write('<link href="static/css/reports.css" rel="stylesheet">'),s.document.write("<style>body{background-color:white !important;}</style>"),s.document.write('<iframe src="static/parts/report_head.html" width="100%" height="200px" frameBorder="0"></iframe>'),s.document.write('<html><body onload="window.print()"> '+e.innerHTML+"</html>"),document.getElementById("head_txt").style.display="none",s.document.close()},onFileChange(t){try{this.img_file=t.target.files[0],this.previewImage=URL.createObjectURL(this.img_file)}catch(e){alert(e)}},uploadImage(){if(this.img_file){let t=new FormData;return t.append("image",this.img_file),r.Z.post(l+"/backend/upload_file/?file_name=/customers/"+this.max_id+"_"+this.customer.name+".png",t,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{})).catch((t=>{alert(t)}))}},remove_file(t){return(0,r.Z)({method:"get",url:l+"/backend/remove_file/?file_name="+t,auth:{username:"admin",password:"123"}})},get_customers(){return c.get("/backend/customers/").then((t=>this.customers=t.data)).catch((t=>{alert(t)}))},async save_customer(){try{if(this.check_form()){await fetch(l+"/backend/customers/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.customer)});swal(this.$t("Added!"),{buttons:!1,icon:"success",timer:2e3}),this.get_customers(),await this.get_max_id(),await this.uploadImage(),this.closeModal()}}catch(t){console.error()}},async update_customer(t){try{if(this.check_form()){await fetch(l+"/backend/customers/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.customer)});swal(this.$t("Updated!"),{buttons:!1,icon:"success",timer:2e3}),this.max_id=this.customer.id,await this.uploadImage(),this.get_customers(),this.closeModal(),this.edit_mode=!1}}catch(e){console.error()}},async delete_customer(t){try{await swal({title:this.$t("Are you sure to delete?"),text:"",icon:"warning",buttons:!0,dangerMode:!0}).then((async e=>{e&&(await c["delete"]("/backend/customers/"+t+"/"),this.remove_file("/customers/"+t+"_"+this.customer.name+".png"),swal(this.$t("Deleted!"),{buttons:!1,icon:"success",timer:2e3}),await this.get_customers(),this.closeModal())}))}catch(e){console.error()}},async get_customer(t){return(0,r.Z)({method:"get",url:l+"/backend/customers/?id="+t,auth:{username:"admin",password:"123"}}).then((t=>this.customer=t.data[0]))},get_max_id(){return(0,r.Z)({method:"get",url:l+"/backend/get_max_id/?table_name=Customers"}).then((t=>this.max_id=t.data.data.id__max))},open_add_modal(){this.edit_mode=!1,this.clear_form(),$("#addModal").modal("toggle")},open_edit_modal(){this.edit_mode=!0,$("#addModal").modal("toggle")},closeModal(){$("#addModal").modal("hide"),this.clear_form()},async row_click(t){this.active_index=t,await this.get_customer(t),this.previewImage=this.base_url+this.customer.id+"_"+this.customer.name+".png"},clear_form(){this.customer.name="",this.customer.address="",this.customer.mobile="",this.customer.type="",this.customer.id_number="",this.customer.id_type="",this.customer.notes="",this.img_file=null,this.previewImage=null,this.validate=!1},check_form(){return this.validate=!0,!!(this.customer.name&&this.customer.address&&this.customer.mobile&&this.customer.type&&this.customer.id_type&&this.customer.id_number)}}},at=st,it=(0,p.Z)(at,tt,et,!1,null,null,null),ot=it.exports,rt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"SubjectsView"},[e("div",{staticClass:"breadcrumbs d-flex align-items-center",staticStyle:{"background-image":"url('static/assets/img/dash.jpg')"}},[e("div",{staticClass:"container position-relative d-flex flex-column align-items-center aos-init aos-animate",attrs:{"data-aos":"fade"}},[e("h2",[t._v("Dashboard")]),e("br"),e("a",{attrs:{href:"#"},on:{click:function(e){return t.$router.go(-1)}}},[e("i",{staticClass:"fa-solid fa-house"})])])]),this.auth.logged_in?t._e():e("div",[e("section",{staticStyle:{"background-color":"var(--primary)"}},[e("div",{staticClass:"container py-5 h-100"},[e("div",{staticClass:"row d-flex justify-content-center align-items-center h-100"},[e("div",{staticClass:"col-12 col-md-8 col-lg-6 col-xl-5"},[e("div",{staticClass:"card shadow-2-strong",staticStyle:{"border-radius":"1rem"}},[e("div",{staticClass:"card-body p-5 text-center"},[e("h3",{staticClass:"mb-5"},[t._v("Sign in")]),e("form",{on:{submit:function(e){return e.preventDefault(),t.loginUser.apply(null,arguments)}}},[e("div",{staticClass:"form-outline mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"typeEmailX-2"}},[t._v("User Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control form-control-lg",class:{"is-invalid":this.error},attrs:{type:"text",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),e("div",{staticClass:"form-outline mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"typePasswordX-2"}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg",class:{"is-invalid":this.error},attrs:{type:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),this.error?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.$t("Login Error"))+" ")]):t._e(),e("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"submit"}},[t._v("Login")])])])])])])])])]),this.auth.logged_in?e("section",{staticClass:"services section-bg",attrs:{id:"services"}},[e("div",{staticClass:"container",attrs:{"data-aos":"fade-up"}},[e("div",{staticClass:"col-xl-12 center"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h4",[t._v(t._s(t.$t("Subjects Table"))+" ")]),e("div",{staticClass:"dropdown no-arrow"},[e("div",{staticClass:"form-group"},[t.edit_mode?t._e():e("button",{staticClass:"btn btn-sm btn-outline-dark m-2 on-hover-sm",attrs:{type:"button",title:"New"},on:{click:function(e){return t.open_add_modal()}}},[e("i",{staticClass:"fa fa-plus"})])])])]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover"},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Subject")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Description")))]),e("th",{staticClass:"no_print",attrs:{scope:"col"}},[t._v(t._s(t.$t("Image")))]),e("th",{staticClass:"no_print",attrs:{scope:"col"}},[t._v(t._s(t.$t("Actions")))])])]),e("tbody",t._l(this.subjects,(function(s){return e("tr",{key:s.id,on:{click:function(e){return t.row_click(s.id)},contextmenu:function(e){return t.row_click(s.id)},dblclick:t.open_edit_modal}},[e("td",[t._v(t._s(s.name))]),e("td",[t._v(t._s(s.description.substr(0,50)+".."))]),e("td",{staticClass:"no_print"},[e("img",{staticClass:"img-profile on-hover-l",attrs:{src:t.base_url+s.id+"_"+s.name+".jpg",alt:"No Image",width:"40",height:"40"},on:{error:function(e){e.target.src=t.base_url+"base.jpg"}}})]),e("td",{staticClass:"no_print"},[e("button",{staticClass:"btn btn-sm btn-outline-dark m-2",attrs:{type:"button"},on:{click:function(e){return t.delete_subject(s.id)}}},[e("i",{staticClass:"fa fa-trash"})]),e("button",{staticClass:"btn btn-sm btn-outline-dark m-2",attrs:{type:"button"},on:{click:function(e){return t.open_edit_modal()}}},[e("i",{staticClass:"fa fa-pen-to-square"})])])])})),0)])])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"addModal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[this.edit_mode?t._e():e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Add subject")))]),this.edit_mode?e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Edit subject")))]):t._e(),e("button",{staticClass:"close on-hover",attrs:{type:"button","aria-label":"Close"},on:{click:this.closeModal}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"form-group"},[e("div",{staticClass:"container"},[e("div",{staticClass:"picture-container"},[e("div",{staticClass:"picture"},[e("img",{staticClass:"picture-src",attrs:{src:t.previewImage,width:"100",height:"150",id:"wizardPicturePreview"}}),e("input",{attrs:{type:"file",id:"wizard-picture"},on:{change:t.onFileChange}})]),e("br"),e("h6",{},[t._v(" "+t._s(t.$t("Subject Picture")))])])])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v(" "+t._s(t.$t("Subject name")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.subject.name,expression:"subject.name"}],staticClass:"form-control",class:{"is-invalid":!this.subject.name&&this.validate,"is-valid":this.subject.name&&this.validate},attrs:{id:"name",type:"text"},domProps:{value:t.subject.name},on:{input:function(e){e.target.composing||t.$set(t.subject,"name",e.target.value)}}}),!this.subject.name&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter Name"))+" ")]):t._e()]),e("br"),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v(" "+t._s(t.$t("description")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.subject.description,expression:"subject.description"}],staticClass:"form-control",attrs:{id:"description",type:"text"},domProps:{value:t.subject.description},on:{input:function(e){e.target.composing||t.$set(t.subject,"description",e.target.value)}}})]),e("br")])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary on-hover-sm",attrs:{type:"button",id:"closeModal",title:"close"},on:{click:this.closeModal}},[e("i",{staticClass:"fa fa-xmark"})]),t.edit_mode?t._e():e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.save_subject()}}},[e("i",{staticClass:"fa fa-floppy-disk"})]),t.edit_mode?e("button",{staticClass:"btn btn-danger on-hover-sm",attrs:{type:"button",title:"delete"},on:{click:function(e){return t.delete_subject(t.active_index)}}},[e("i",{staticClass:"fa fa-trash"})]):t._e(),t.edit_mode?e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.update_subject(t.active_index)}}},[e("i",{staticClass:"fa fa-floppy-disk"})]):t._e()])])])])]):t._e()])},nt=[],lt={name:"dashboard",components:{NavBar:w},data(){return{base_url:window.location.origin+"/media/subjects/",previewImage:null,img_file:null,max_id:"",active_index:null,validate:!1,saving:!1,edit_mode:!1,subjects:[],links:[],subject:{id:"",name:"",description:""},auth:{username:"",password:"",logged_in:localStorage.getItem("access_token")}}},computed:{search(){let t=this.$parent.$refs.NavBar.search;if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/dashboard_buttons/?search="+t}).then((t=>this.buttons=t.data));this.get_dashboard_buttons()}},async mounted(){await this.get_subjects(),window.scrollTo(0,0)},methods:{async loginUser(){const t={username:this.username,password:this.password};try{const e=await r.Z.post(l+"/backend/login/",t);this.auth.logged_in=e.data.access,localStorage.setItem("access_token",this.auth.logged_in),localStorage.setItem("token_time",new Date),this.error=!1,this.$router.push("dashboard")}catch(e){this.error=!0,console.log(e)}},async logout(){const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0]);localStorage.setItem("access_token",""),this.auth.logged_in=""},onFileChange(t){try{this.img_file=t.target.files[0],this.previewImage=URL.createObjectURL(this.img_file)}catch(e){alert(e)}},uploadImage(){if(this.img_file){let t=new FormData;return t.append("image",this.img_file),r.Z.post(l+"/backend/upload_file/?file_name=/subjects/"+this.max_id+"_"+this.subject.name+".jpg",t,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{})).catch((t=>{alert(t)}))}},remove_file(t){return(0,r.Z)({method:"get",url:l+"/backend/remove_file/?file_name="+t,auth:{username:"admin",password:"123"}})},get_subjects(){return c.get("/backend/subjects/").then((t=>this.subjects=t.data)).catch((t=>{alert(t)}))},async save_subject(){try{if(this.check_form()){this.saving=!0,this.subject.timestamp=(new Date).toLocaleString();var t=await fetch(l+"/backend/subjects/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.subject)});if(t.ok)swal(this.$t("Added!"),{buttons:!1,icon:"success",timer:2e3}),this.get_subjects(),await this.get_max_id(),await this.uploadImage(),this.closeModal();else{var e="Error: "+t.status+" "+t.statusText;swal(e,{icon:"error"})}this.saving=!1}}catch(s){console.error()}},async delete_subject(t){try{await swal({title:this.$t("Are you sure to delete?"),text:"",icon:"warning",buttons:!0,dangerMode:!0}).then((async e=>{if(e){var s=await fetch(l+"/backend/subjects/"+t+"/",{method:"delete",headers:{"Content-Type":"application/json"}});if(s.ok)swal(this.$t("Deleted!"),{buttons:!1,icon:"success",timer:2e3}),await this.get_subjects(),this.closeModal();else{var a="Error: "+s.status+" "+s.statusText;swal(a,{icon:"error"})}}}))}catch(e){console.error()}},async update_subject(t){try{if(this.check_form()){var e=await fetch(l+"/backend/subjects/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.subject)});if(e.ok)swal(this.$t("Updated!"),{buttons:!1,icon:"success",timer:2e3}),this.max_id=this.subject.id,await this.uploadImage(),this.get_subjects(),this.closeModal(),this.edit_mode=!1;else{var s="Error: "+e.status+" "+e.statusText;swal(s,{icon:"error"})}}}catch(a){console.error()}},open_add_modal(){this.edit_mode=!1,this.clear_form(),$("#addModal").modal("toggle")},open_edit_modal(){this.edit_mode=!0,$("#addModal").modal("toggle");const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0])},closeModal(){$("#addModal").modal("hide"),this.clear_form()},clear_form(){this.subject.name="",this.subject.description="",this.img_file=null,this.previewImage=null,this.validate=!1},get_max_id(){return(0,r.Z)({method:"get",url:l+"/backend/get_max_id/?table_name=Subjects"}).then((t=>this.max_id=t.data.data.id__max))},check_form(){return this.validate=!0,!!this.subject.name},async row_click(t){this.active_index=t,await this.get_subject(t)},async get_subject(t){return(0,r.Z)({method:"get",url:l+"/backend/subjects/?id="+t,auth:{username:"admin",password:"123"}}).then((t=>this.subject=t.data[0]))}},beforeCreate(){const t=localStorage.getItem("access_token");this.auth.logged_in=t;var e=localStorage.getItem("token_time");const s=new Date,a=new Date(e),i=Math.abs(a-s),o=Math.floor(i/1e3/60);o>30&&(localStorage.setItem("access_token",""),localStorage.setItem("token_time",0))}},ct=lt,dt=(0,p.Z)(ct,rt,nt,!1,null,null,null),ut=dt.exports,mt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"LinksView"},[e("div",{staticClass:"breadcrumbs d-flex align-items-center",staticStyle:{"background-image":"url('static/assets/img/dash.jpg')"}},[e("div",{staticClass:"container position-relative d-flex flex-column align-items-center aos-init aos-animate",attrs:{"data-aos":"fade"}},[e("h2",[t._v("Links")]),e("br"),e("a",{attrs:{href:"#"},on:{click:function(e){return t.$router.go(-1)}}},[e("i",{staticClass:"fa-solid fa-house"})])])]),this.auth.logged_in?t._e():e("div",[e("section",{staticStyle:{"background-color":"var(--primary)"}},[e("div",{staticClass:"container py-5 h-100"},[e("div",{staticClass:"row d-flex justify-content-center align-items-center h-100"},[e("div",{staticClass:"col-12 col-md-8 col-lg-6 col-xl-5"},[e("div",{staticClass:"card shadow-2-strong",staticStyle:{"border-radius":"1rem"}},[e("div",{staticClass:"card-body p-5 text-center"},[e("h3",{staticClass:"mb-5"},[t._v("Sign in")]),e("form",{on:{submit:function(e){return e.preventDefault(),t.loginUser.apply(null,arguments)}}},[e("div",{staticClass:"form-outline mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"typeEmailX-2"}},[t._v("User Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control form-control-lg",class:{"is-invalid":this.error},attrs:{type:"text",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),e("div",{staticClass:"form-outline mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"typePasswordX-2"}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg",class:{"is-invalid":this.error},attrs:{type:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),this.error?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.$t("Login Error"))+" ")]):t._e(),e("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"submit"}},[t._v("Login")])])])])])])])])]),this.auth.logged_in?e("section",{staticClass:"services section-bg",attrs:{id:"services"}},[e("div",{staticClass:"container",attrs:{"data-aos":"fade-up"}},[e("div",{staticClass:"col-xl-12 center"},[e("div",{staticClass:"card"},[e("div",{staticClass:"form-group m-3"},[e("label",[t._v(" "+t._s(t.$t("Subject")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.link.subject_id,expression:"link.subject_id"}],staticClass:"form-control",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.link,"subject_id",e.target.multiple?s:s[0])},this.get_links]}},t._l(this.subjects,(function(s){return e("option",{key:s.id,domProps:{value:s.id}},[t._v(t._s(s.name))])})),0)]),e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h4",[t._v(t._s(t.$t("Links Table"))+" ")]),e("div",{staticClass:"dropdown no-arrow"},[e("div",{staticClass:"form-group"},[t.edit_mode?t._e():e("button",{staticClass:"btn btn-sm btn-outline-dark m-2 on-hover-sm",attrs:{type:"button",title:"New"},on:{click:function(e){return t.open_add_modal()}}},[e("i",{staticClass:"fa fa-plus"})])])])]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover table-responsive"},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Title")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Description")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("URL")))]),e("th",{staticClass:"no_print",attrs:{scope:"col"}},[t._v(t._s(t.$t("Actions")))])])]),e("tbody",t._l(this.links,(function(s){return e("tr",{key:s.id,on:{click:function(e){return t.row_click(s.id)},contextmenu:function(e){return t.row_click(s.id)},dblclick:t.open_edit_modal}},[e("td",[t._v(t._s(s.title))]),e("td",[t._v(t._s(s.description.substr(0,50)+".."))]),e("td",[t._v(t._s(s.url.substr(0,50)+".."))]),e("td",{staticClass:"no_print"},[e("button",{staticClass:"btn btn-sm btn-outline-dark m-2",attrs:{type:"button"},on:{click:function(e){return t.delete_link(s.id)}}},[e("i",{staticClass:"fa fa-trash"})]),e("button",{staticClass:"btn btn-sm btn-outline-dark m-2",attrs:{type:"button"},on:{click:function(e){return t.open_edit_modal()}}},[e("i",{staticClass:"fa fa-pen-to-square"})])])])})),0)])])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"addModal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[this.edit_mode?t._e():e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Add link")))]),this.edit_mode?e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Edit link")))]):t._e(),e("button",{staticClass:"close on-hover",attrs:{type:"button","aria-label":"Close"},on:{click:this.closeModal}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"form-group m-3"},[e("label",[t._v(" "+t._s(t.$t("Subject")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.link.subject_id,expression:"link.subject_id"}],staticClass:"form-control",class:{"is-invalid":!this.link.subject_id&&this.validate,"is-valid":this.link.subject_id&&this.validate},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.link,"subject_id",e.target.multiple?s:s[0])}}},t._l(this.subjects,(function(s){return e("option",{key:s.id,domProps:{value:s.id}},[t._v(t._s(s.name))])})),0)]),e("div",{staticClass:"form-group m-3"},[e("label",{attrs:{for:"title"}},[t._v(" "+t._s(t.$t("Link title")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.link.title,expression:"link.title"}],staticClass:"form-control",class:{"is-invalid":!this.link.title&&this.validate,"is-valid":this.link.title&&this.validate},attrs:{id:"title",type:"text"},domProps:{value:t.link.title},on:{input:function(e){e.target.composing||t.$set(t.link,"title",e.target.value)}}}),!this.link.title&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter Name"))+" ")]):t._e()]),e("div",{staticClass:"form-group m-3"},[e("label",{attrs:{for:"description"}},[t._v(" "+t._s(t.$t("description")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.link.description,expression:"link.description"}],staticClass:"form-control",attrs:{id:"description",type:"text"},domProps:{value:t.link.description},on:{input:function(e){e.target.composing||t.$set(t.link,"description",e.target.value)}}})]),e("div",{staticClass:"form-group m-3"},[e("label",{attrs:{for:"url"}},[t._v(" "+t._s(t.$t("URL")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.link.url,expression:"link.url"}],staticClass:"form-control",class:{"is-invalid":!this.link.url&&this.validate,"is-valid":this.link.url&&this.validate},attrs:{id:"url",type:"text"},domProps:{value:t.link.url},on:{input:function(e){e.target.composing||t.$set(t.link,"url",e.target.value)}}}),!this.link.url&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter Name"))+" ")]):t._e()])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary on-hover-sm",attrs:{type:"button",id:"closeModal",title:"close"},on:{click:this.closeModal}},[e("i",{staticClass:"fa fa-xmark"})]),t.edit_mode?t._e():e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.save_link()}}},[e("i",{staticClass:"fa fa-floppy-disk"})]),t.edit_mode?e("button",{staticClass:"btn btn-danger on-hover-sm",attrs:{type:"button",title:"delete"},on:{click:function(e){return t.delete_link(t.active_index)}}},[e("i",{staticClass:"fa fa-trash"})]):t._e(),t.edit_mode?e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.update_link(t.active_index)}}},[e("i",{staticClass:"fa fa-floppy-disk"})]):t._e()])])])])]):t._e()])},ht=[],pt={name:"dashboard",components:{NavBar:w},data(){return{base_url:window.location.origin+"/media/links/",previewImage:null,img_file:null,max_id:"",active_index:null,validate:!1,saving:!1,edit_mode:!1,subjects:[],links:[],link:{id:"",subject_id:"",title:"",description:"",url:"",timestamp:""},auth:{username:"",password:"",logged_in:localStorage.getItem("access_token")}}},computed:{search(){let t=this.$parent.$refs.NavBar.search;if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/dashboard_buttons/?search="+t}).then((t=>this.buttons=t.data));this.get_dashboard_buttons()}},async mounted(){await this.get_subjects(),window.scrollTo(0,0)},methods:{async loginUser(){const t={username:this.username,password:this.password};try{const e=await r.Z.post(l+"/backend/login/",t);this.auth.logged_in=e.data.access,localStorage.setItem("access_token",this.auth.logged_in),localStorage.setItem("token_time",new Date),this.error=!1,this.$router.push("dashboard")}catch(e){this.error=!0,console.log(e)}},async logout(){const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0]);localStorage.setItem("access_token",""),this.auth.logged_in=""},onFileChange(t){try{this.img_file=t.target.files[0],this.previewImage=URL.createObjectURL(this.img_file)}catch(e){alert(e)}},uploadImage(){if(this.img_file){let t=new FormData;return t.append("image",this.img_file),r.Z.post(l+"/backend/upload_file/?file_name=/links/"+this.max_id+"_"+this.subject.name+".jpg",t,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{})).catch((t=>{alert(t)}))}},remove_file(t){return(0,r.Z)({method:"get",url:l+"/backend/remove_file/?file_name="+t,auth:{username:"admin",password:"123"}})},get_subjects(){return c.get("/backend/subjects/").then((t=>this.subjects=t.data)).catch((t=>{alert(t)}))},get_links(){return c.get("/backend/links/?subject_id="+this.link.subject_id).then((t=>this.links=t.data)).catch((t=>{alert(t)}))},async save_link(){try{if(this.check_form()){this.saving=!0;var t=await fetch(l+"/backend/links/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.link)});if(t.ok)swal(this.$t("Added!"),{buttons:!1,icon:"success",timer:2e3}),this.get_subjects(),await this.get_max_id(),await this.get_links(),this.closeModal();else{var e="Error: "+t.status+" "+t.statusText;swal(e,{icon:"error"})}this.saving=!1}}catch(s){console.error()}},async delete_link(t){try{await swal({title:this.$t("Are you sure to delete?"),text:"",icon:"warning",buttons:!0,dangerMode:!0}).then((async e=>{if(e){var s=await fetch(l+"/backend/links/"+t+"/",{method:"delete",headers:{"Content-Type":"application/json"}});if(s.ok)swal(this.$t("Deleted!"),{buttons:!1,icon:"success",timer:2e3}),await this.get_links(),this.closeModal();else{var a="Error: "+s.status+" "+s.statusText;swal(a,{icon:"error"})}}}))}catch(e){console.error()}},async update_link(t){try{if(this.check_form()){var e=await fetch(l+"/backend/links/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.subject)});if(e.ok)swal(this.$t("Updated!"),{buttons:!1,icon:"success",timer:2e3}),this.max_id=this.subject.id,await this.uploadImage(),this.get_links(),this.closeModal(),this.edit_mode=!1;else{var s="Error: "+e.status+" "+e.statusText;swal(s,{icon:"error"})}}}catch(a){console.error()}},open_add_modal(){this.edit_mode=!1,this.clear_form(),$("#addModal").modal("toggle")},open_edit_modal(){this.edit_mode=!0,$("#addModal").modal("toggle");const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0])},closeModal(){$("#addModal").modal("hide"),this.clear_form()},clear_form(){this.link.url="",this.link.description="",this.validate=!1},get_max_id(){return(0,r.Z)({method:"get",url:l+"/backend/get_max_id/?table_name=Links"}).then((t=>this.max_id=t.data.data.id__max))},check_form(){return this.validate=!0,!!this.link.url},async row_click(t){this.active_index=t,await this.get_link(t)},async get_link(t){return(0,r.Z)({method:"get",url:l+"/backend/links/?id="+t,auth:{username:"admin",password:"123"}}).then((t=>this.link=t.data[0]))}},beforeCreate(){const t=localStorage.getItem("access_token");this.auth.logged_in=t;var e=localStorage.getItem("token_time");const s=new Date,a=new Date(e),i=Math.abs(a-s),o=Math.floor(i/1e3/60);o>30&&(localStorage.setItem("access_token",""),localStorage.setItem("token_time",0))}},_t=pt,vt=(0,p.Z)(_t,mt,ht,!1,null,null,null),bt=vt.exports,ft=function(){var t=this,e=t._self._c;return e("div",{staticClass:"AccountsView"},[e("div",{staticClass:"context-menu",style:t.menuStyle,attrs:{id:"context-menu"}},[e("ul",[e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_account(t.account.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("li",{staticClass:"ltr dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("li",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])]),e("div",{staticClass:"col-xl-12 center"},[e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.$t("Accounts Table"))+" ")]),e("div",{staticClass:"dropdown no-arrow"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item",on:{click:t.open_add_modal}},[e("i",{staticClass:"fa fa-plus"}),t._v(" "+t._s(t.$t("Add"))+" ")]),e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.PrintDiv("table")}}},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])]),e("div",{staticClass:"card-body",attrs:{id:"table"}},[e("div",{staticClass:"card-header cnter",staticStyle:{display:"none"},attrs:{id:"head_txt"}}),e("form",{staticClass:"site-form-table"},[e("table",{staticClass:"table table-hover"},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Parent")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Name")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Debit")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Credit")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("User")))]),e("th",{staticClass:"no_print",attrs:{scope:"col"}},[t._v(t._s(t.$t("Actions")))])])]),e("tbody",t._l(this.accounts,(function(s){return e("tr",{key:s.id,class:{selected:s.id===t.active_index},attrs:{role:"button"},on:{contextmenu:[t.showContextMenu,function(e){return t.row_click(s.id)}],click:function(e){return t.row_click(s.id)},dblclick:t.open_edit_modal}},[e("th",{attrs:{scope:"row",id:"id"}},[t._v(t._s(s.id))]),e("td",[t._v(t._s(t.$t(s.parent)))]),e("td",[t._v(t._s(t.$t(s.name)))]),e("td",[t._v(t._s(t.$t(s.debit)))]),e("td",[t._v(t._s(t.$t(s.credit)))]),e("td",[t._v(t._s(t.$t(s.user)))]),e("td",{staticClass:"no_print"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},on:{contextmenu:function(e){return t.alert("1")}}},[e("i",{staticClass:"fa fa-gear on-hover"})]),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_account(s.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("a",{staticClass:"dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("a",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])])})),0)]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.active_index,expression:"active_index"}],attrs:{hidden:"",type:"text",id:"row_id"},domProps:{value:t.active_index},on:{input:function(e){e.target.composing||(t.active_index=e.target.value)}}})])])])]),e("input",{attrs:{"on-change":t.search,hidden:""},domProps:{value:this.$parent.$refs.NavBar.search}}),e("div",{staticClass:"modal fade",attrs:{id:"addModal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[this.edit_mode?t._e():e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Add Account")))]),this.edit_mode?e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Edit Account")))]):t._e(),e("button",{staticClass:"close on-hover",attrs:{type:"button","aria-label":"Close"},on:{click:this.closeModal}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"account_name"}},[t._v(t._s(t.$t("Name")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.account.name,expression:"account.name"}],staticClass:"form-control",class:{"is-invalid":!this.account.name&&this.validate,"is-valid":this.account.name&&this.validate},attrs:{id:"account_name",type:"text"},domProps:{value:t.account.name},on:{input:function(e){e.target.composing||t.$set(t.account,"name",e.target.value)}}}),!this.account.name&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The Account Name"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"Parent"}},[t._v(t._s(t.$t("Parent")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.account.parent,expression:"account.parent"}],staticClass:"form-control",class:{"is-invalid":!this.account.parent&&this.validate,"is-valid":this.account.parent&&this.validate},attrs:{id:"Parent",type:"text"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.account,"parent",e.target.multiple?s:s[0])}}},[e("option",{attrs:{selected:""},domProps:{value:t.$t("Account")}},[t._v(t._s(t.$t("Account")))]),e("option",{domProps:{value:t.$t("Supplier")}},[t._v(t._s(t.$t("Supplier")))])]),!this.account.parent&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select The Parent"))+" ")]):t._e()])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary on-hover-sm",attrs:{type:"button",id:"closeModal",title:"close"},on:{click:this.closeModal}},[e("i",{staticClass:"fa fa-xmark"})]),t.edit_mode?t._e():e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.save_account()}}},[e("i",{staticClass:"fa fa-floppy-disk"})]),t.edit_mode?e("button",{staticClass:"btn btn-danger on-hover-sm",attrs:{type:"button",title:"delete"},on:{click:function(e){return t.delete_account(t.active_index)}}},[e("i",{staticClass:"fa fa-trash"})]):t._e(),t.edit_mode?e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.update_account(t.active_index)}}},[e("i",{staticClass:"fa fa-floppy-disk"})]):t._e()])])])])])},gt=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-bars on-hover"})])}],Ct={name:"AccountsView",components:{NavBar:w},data(){return{validate:!1,base_url:window.location.origin+"/media/accounts/",previewImage:null,img_file:null,active_index:null,accounts:[],account:{id:"",parent:"",name:"",debit:0,credit:0,user:"admin"},edit_mode:!1,max_id:0,isContextMenuActive:!1,menuStyle:{display:"none",top:0,left:0}}},async mounted(){const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0]);await this.get_accounts(),this.teest()},computed:{search(){let t=this.$parent.$refs.NavBar.search;if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/accounts/?search="+t}).then((t=>this.accounts=t.data));this.get_accounts()}},methods:{showContextMenu(t){t.preventDefault(),this.isContextMenuActive=!0,this.menuStyle.top=`${t.clientY}px`,this.menuStyle.left=`${t.clientX}px`,this.menuStyle.display="block",window.addEventListener("click",this.hideContextMenu)},hideContextMenu(){this.isContextMenuActive=!1,this.menuStyle.display="none",window.removeEventListener("click",this.hideContextMenu)},PrintDiv(t){var e=document.getElementById(t),s=window.open("","_blank","width=100000,height=10000");document.getElementById("head_txt").style.display="block",document.getElementById("head_txt").innerHTML=this.$t("Accounts"),s.document.write('<link href="static/css/sb-admin-2.min.css" rel="stylesheet">'),s.document.write('<link href="static/css/reports.css" rel="stylesheet">'),s.document.write("<style>body{background-color:white !important;}</style>"),s.document.write('<iframe src="static/parts/report_head.html" width="100%" height="200px" frameBorder="0"></iframe>'),s.document.write('<html><body onload="window.print()"> '+e.innerHTML+"</html>"),document.getElementById("head_txt").style.display="none",s.document.close()},get_accounts(){return c.get("/backend/accounts/").then((t=>this.accounts=t.data)).catch((t=>{alert(t)}))},async save_account(){try{if(this.account.debit=0,this.account.credit=0,this.account.user=0,this.check_form()){await fetch(l+"/backend/accounts/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.account)});swal(this.$t("Added!"),{buttons:!1,icon:"success",timer:2e3}),this.get_accounts(),await this.get_max_id(),await this.uploadImage(),this.closeModal()}}catch(t){console.error()}},async update_account(t){try{if(this.check_form()){await fetch(l+"/backend/accounts/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.account)});swal(this.$t("Updated!"),{buttons:!1,icon:"success",timer:2e3}),this.max_id=this.account.id,await this.uploadImage(),this.get_accounts(),this.closeModal(),this.edit_mode=!1}}catch(e){console.error()}},async delete_account(t){try{await swal({title:this.$t("Are you sure to delete?"),text:"",icon:"warning",buttons:!0,dangerMode:!0}).then((async e=>{e&&(await c["delete"]("/backend/accounts/"+t+"/"),swal(this.$t("Deleted!"),{buttons:!1,icon:"success",timer:2e3}),await this.get_accounts(),this.closeModal())}))}catch(e){console.error()}},async get_account(t){return(0,r.Z)({method:"get",url:l+"/backend/accounts/?id="+t,auth:{username:"admin",password:"123"}}).then((t=>this.account=t.data[0]))},get_max_id(){return(0,r.Z)({method:"get",url:l+"/backend/get_max_id/?table_name=Accounts"}).then((t=>this.max_id=t.data.data.id__max))},teest(){return(0,r.Z)({method:"post",url:l+"/backend/new_account/?parent=100&name=test"})},open_add_modal(){this.edit_mode=!1,this.clear_form(),$("#addModal").modal("toggle")},open_edit_modal(){this.edit_mode=!0,$("#addModal").modal("toggle")},closeModal(){$("#addModal").modal("hide"),this.clear_form()},async row_click(t){this.active_index=t,await this.get_account(t)},clear_form(){this.account.name="",this.account.parent="",this.account.debit="",this.account.credit="",this.account.user="",this.account.id="",this.validate=!1},check_form(){return this.validate=!0,!(!this.account.name||!this.account.parent)}}},yt=Ct,wt=(0,p.Z)(yt,ft,gt,!1,null,null,null),kt=wt.exports,jt=function(){var t=this,e=t._self._c;return e("div")},xt=[],$t={},St=(0,p.Z)($t,jt,xt,!1,null,null,null),Pt=St.exports;a.ZP.use(P.ZP);const Nt=[{path:"/",name:"HomeView",component:T,meta:{requiresAuth:!1}},{path:"/subject/:subject_name",name:"SubjectView",component:O,meta:{requiresAuth:!1}},{path:"/dash",name:"DashboardView",component:ut,meta:{requiresAuth:!0}},{path:"/links",name:"LinksView",component:bt,meta:{requiresAuth:!1}},{path:"/login",name:"login",component:Pt},{path:"/about",name:"about",component:J,meta:{requiresAuth:!0}},{path:"/users",name:"UsersView",component:Q,meta:{requiresAuth:!0}},{path:"/customers",name:"CustomersView",component:ot,meta:{requiresAuth:!0}},{path:"/accounts",name:"AccountsView",component:kt,meta:{requiresAuth:!0}},{path:"/dashboard",name:"DashboardView",component:ut,meta:{requiresAuth:!1}},{path:"/test",name:"test",component:()=>Promise.resolve().then(s.bind(s,9833))}],Mt=new P.ZP({base:"/",routes:Nt});Mt.beforeEach(((t,e,s)=>{if(t.matched.some((t=>t.meta.requiresAuth))){const t=localStorage.getItem("access_token");t?s():s({name:"login"})}else s()}));var It=Mt,At=s(3822);a.ZP.use(At.ZP);var Dt=new At.ZP.Store({state:{token:"",isAuthenticated:!1},getters:{},mutations:{initializeStore(t){localStorage.getItem("token")?(t.token=localStorage.getItem("token"),t.isAuthenticated=!0):(t.token="",t.isAuthenticated=!1)},setToken(t,e){t.token=e,t.isAuthenticated=!0},removeToken(t){t.token="",t.isAuthenticated=!1}},actions:{},modules:{}}),Tt=s(8682),Et=s.n(Tt),Zt=s(6018);r.Z.defaults.baseURL="http://127.0.0.1:8000",a.ZP.use(Zt.Z);const Lt=new Zt.Z({locale:"en",messages:{ar:{"Please Enter The Name":"يرجى ادخال الاسم","Please Select Type":"يرجى تحديد النوع","Please Enter Mobile Number":"يرجى ادخال رقم الهاتف ","Please Select ID Type":"يرجى تحديد نوع الوثيقة","Please Enter ID Number":"يرجى ادخال رقم الوثيقة","Please Enter The Address":"يرجى ادخال العنوان",Language:"اللغة",Arabic:"عربي",English:"انجليزي",On:"مفعل",Off:"مغلق","Dark Mode":"الوضع المظلم",User:"المستخدم",Profile:"الحساب",Login:"تسجيل الدخول",Logout:"تسجيل الخروج","Activity Log":"سجل الحركات",Settings:"الاعدادات",Users:"المستخدمين",Customer:"عميل",Supplier:"مورد",Customers:"العملاء",Persons:"الأشخاص",Employees:"الموظفين",Table:"جدول","Customers Table":"جدول العملاء","Search for...":"...البحث عن","Alerts Center":"الاشعارات","Show All Alerts":"عرض جميع الاشعارات","Message Center":"الرسائل","Read More Messages":"عرض جميع الرسائل",Dashboard:"لوحة التحكم",Name:"الاسم",Mobile:"الهاتف",Type:"النوع","ID Type":"الوثيقة","ID Number":"رقم الوثيقة",Address:"العنوان",Notes:"الملاحظات",Image:"الصورة",Actions:"الخيارات",Delete:"حذف",Edit:"تعديل",Save:"حفظ",Close:"اغلاق",Cancel:"الغاء",Print:"طباعة",Add:"اضافة",add:"اضافة",new:"اضافة",New:"اضافة",Updated:"تم التحديث",Saved:"تم الحفظ",Number:"رقم","Number of":"رقم",Residence:"إقامة","Driving License":"رخصة قيادة",Passport:"جواز سفر","ID Card":"بطاقة هوية","Choose Picture":"اختر صورة","Add Customer":"اضافة عميل","Edit Customer":"تعديل عميل","Are you sure?":"هل انت متأكد؟","Deleted!":"تم الحذف","Updated!":"تم التحديث","Added!":"تمت الاضافة"}}});a.ZP.config.productionTip=!1,new a.ZP({i18n:Lt,router:It,store:Dt,axios:r.Z,swal:Et(),render:t=>t(S)}).$mount("#app")}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var o=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(o.exports,o,o.exports,s),o.loaded=!0,o.exports}s.m=t,function(){var t=[];s.O=function(e,a,i,o){if(!a){var r=1/0;for(d=0;d<t.length;d++){a=t[d][0],i=t[d][1],o=t[d][2];for(var n=!0,l=0;l<a.length;l++)(!1&o||r>=o)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(n=!1,o<r&&(r=o));if(n){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[a,i,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,o,r=a[0],n=a[1],l=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(i in n)s.o(n,i)&&(s.m[i]=n[i]);if(l)var d=l(s)}for(e&&e(a);c<r.length;c++)o=r[c],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(d)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(6817)}));a=s.O(a)})();
//# sourceMappingURL=app.89a7507a.js.map